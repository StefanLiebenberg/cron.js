var k=this;function l(a,b,c){return a.call.apply(a.bind,arguments)}function m(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:m;return p.apply(null,arguments)}
function q(a,b){var c=a.split("."),d=k;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)c.length||void 0===b?d=d[f]?d[f]:d[f]={}:d[f]=b}function r(a,b){function c(){}c.prototype=b.prototype;a.l=b.prototype;a.prototype=new c;a.m=function(a,c,n){var u=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,u)}};function s(a){var b=new Date,c;if(a.c)for(c=a.b.next(a.c);c<b;)c=a.b.next(c);else c=a.b.next(b);a.a=c}function t(a){var b=null,b=new Date;a.a||s(a);return Math.max(10,a.a-b)};function v(){this.b=[];this.a=!1;this.i=void 0}v.prototype.k=function(a){this.b.push(a);this.a&&this.next()};v.prototype.d=function(){this.a&&this.j<new Date-1E3&&(this.g(),this.f())};v.prototype.f=function(){this.a||(this.a=!0,this.next(),this.c||(this.c=setInterval(this.d.bind(this),6E4)))};v.prototype.g=function(){this.a&&(this.a=!1,clearTimeout(this.i),delete this.i,this.c&&clearInterval(this.c))};
v.prototype.next=function(){var a=!this.a,a=(a=a||Boolean(this.i))||!Boolean(this.b.length);if(!a){for(var a=this.b[0],b,c=1,d=this.b.length;c<d;c++)b=this.b[c],b.a<a.a&&(a=b);w(this,a)}};function w(a,b){var c=new Date,d=t(b);a.j=new Date(c.getTime()+d);x(a,function(){b.c=new Date;setTimeout(b.d,10);s(b);delete this.i;delete this.j;this.next()},d)}function x(a,b,c){b=setTimeout(p(b,a),c);a.i=b};function y(a){for(var b=a.length,c,d,f=0;f<b;f+=1)for(c=a[f],d=f+1;-1!==(d=a.indexOf(c,d));)a.splice(d,1),b--};function z(a,b){this.a=a;this.c=b}function A(a,b){a.c.lastIndex=0;return a.c.test(b)};function B(a){z.call(this,a,RegExp("^"+a.d+"$"))}r(B,z);B.prototype.b=function(a){var b=this.a.c;return[0>parseInt(a,10)-b.a||parseInt(a,10)-b.a>=b.length?void 0:b.a+(parseInt(a,10)-b.a)]};function F(a){z.call(this,a,RegExp("^"+a.d+"-"+a.d+"$"))}r(F,z);F.prototype.b=function(a){var b=a.split("-");a=parseInt(b[0],10)-this.a.c.a;b=parseInt(b[1],10)-this.a.c.a;return G(this.a.c).slice(a,b+1)};function H(a){z.call(this,a,/\,/)}r(H,z);H.prototype.b=function(a){a=a.split(",");for(var b=a.length,c=[],d=0;d<b;d++)c.push.apply(c,this.a.a(a[d]));return c};function I(a,b){if(a>b)throw Error("sage.util.Range: from is larger than to");this.a=a;this.b=b;this.length=1+b-a}function G(a){var b=null,c=null;"number"!==typeof b&&(b=a.a);"number"!==typeof c&&(c=a.b);if(b>c||b<a.a||c>a.b)throw Error("sage.util.Range: values are out of range");a=1+c-b;c=Array(a);if(0<a)for(;a--;)c[a]=b+a;return c}I.prototype.toString=function(){return"Range["+this.a+".."+this.b+"]"};function J(a,b){this.c=new I(a,b);this.b=[]}J.prototype.a=function(a){for(var b=this.b.length,c=[],d,f=0;f<b;f++)if(d=this.b[f],A(d,a)){c=d.b(a);y(c);c.sort(function(a,b){return a-b});break}return c};function K(a){z.call(this,a,/^\*$/)}r(K,z);K.prototype.b=function(){return G(this.a.c)};function L(a,b){this.h={};this.e=[];this.b=this.a=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)N(this,arguments[d],arguments[d+1])}else if(a){var f;if(a instanceof L)for(d=O(a),P(a),f=[],c=0;c<a.e.length;c++)f.push(a.h[a.e[c]]);else{var c=[],n=0;for(d in a)c[n++]=d;d=c;c=[];n=0;for(f in a)c[n++]=a[f];f=c}for(c=0;c<d.length;c++)N(this,d[c],f[c])}}function O(a){P(a);return a.e.concat()}
function P(a){if(a.a!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];Object.prototype.hasOwnProperty.call(a.h,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.a!=a.e.length){for(var f={},c=b=0;b<a.e.length;)d=a.e[b],Object.prototype.hasOwnProperty.call(f,d)||(a.e[c++]=d,f[d]=1),b++;a.e.length=c}}function N(a,b,c){Object.prototype.hasOwnProperty.call(a.h,b)||(a.a++,a.e.push(b),a.b++);a.h[b]=c};function Q(a){z.call(this,a,RegExp("^[^/]+/"+a.d+"$"))}r(Q,z);Q.prototype.b=function(a){var b=a.split("/");a=this.a.a(b[0]);for(var b=parseInt(b[1],10),c=[],d=0,f=a.length;d<f;d+=b)c.push(a[d]);return c};function R(a,b,c){J.call(this,a,b);this.d=c;this.b[0]=new H(this);this.b[1]=new K(this);this.b[2]=new B(this);this.b[3]=new F(this);this.b[4]=new Q(this)}r(R,J);function S(a,b,c,d){R.call(this,a,b,c);this.f=new L(d);a=O(this.f);this.g=RegExp("("+a.join("|")+")","g")}r(S,R);function T(a,b){var c=a.f;return b.replace(a.g,function(a){return Object.prototype.hasOwnProperty.call(c.h,a)?c.h[a]:a})}S.prototype.a=function(a){return S.l.a.call(this,T(this,a))};var U=new R(0,59,"[1-5]?[0-9]"),V=new R(0,59,"[1-5]?[0-9]"),W=new R(0,23,"(([0-1]?[0-9])|([2][0-3]))"),X=new R(1,31,"(([0]?[1-9])|([1-2][0-9])|([3][0-1]))"),Y=new S(1,12,"(([0]?[1-9])|([1][0-2]))",{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}),aa=new S(1,7,"([0]?[1-7])",{sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7});function Z(a){a=a.trim();a in $&&(a=$[a]);var b=a.split(" ");if(6!==b.length)throw a="CronSpec only accepts specifications with 6 parts:"+a+" is invalid",Error(a);this.f=U.a(b[0]);this.c=V.a(b[1]);this.b=W.a(b[2]);this.a=X.a(b[3]);this.d=Y.a(b[4]);this.g=aa.a(b[5])}
Z.prototype.next=function(a){var b=new Date;b.setTime(a.getTime());b.setSeconds(b.getSeconds()+1);b.setMilliseconds(0);for(var c=(a=this.f.length)&&60!==a,d=this.c.length,f=d&&60!==d,n=this.b.length,u=n&&24!==n,C=this.g.length,ba=C&&7!==C,D=this.a.length,ca=D&&31!==D,E=this.d.length,da=E&&12!==E,M=!1,g,h;!M;)if(g=b.getSeconds(),c&&-1===this.f.indexOf(g)){h=!0;for(var e=0;e<a;e++)if(this.f[e]>=g){b.setSeconds(this.f[e]);h=!1;break}h&&(b.setSeconds(0),b.setMinutes(b.getMinutes()+1))}else if(g=b.getMinutes(),
f&&-1==this.c.indexOf(g)){h=!0;for(e=0;e<d;e++)if(this.c[e]>=g){b.setMinutes(this.c[e]);h=!1;break}h&&(b.setMinutes(0),b.setHours(b.getHours()+1))}else{g=b.getHours();if(u&&-1==this.b.indexOf(g)){h=!0;for(e=0;e<n;e++)if(this.b[e]>=g){b.setHours(this.b[e]);h=!1;break}b.setMilliseconds(0);b.setSeconds(0);b.setMinutes(0);if(h){b.setDate(b.getDate()+1);b.setHours(0);continue}}g=b.getDay()+1;if(ba&&-1==this.g.indexOf(g)){h=!0;for(e=0;e<C;e++)if(this.g[e]>=g){b.setDate(b.getDate()+(this.g[e]-g-1));h=!1;
break}if(h){b.setDate(b.getDate()+(8-g));b.setSeconds(0);b.setMinutes(0);b.setHours(0);continue}}g=b.getDate();if(ca&&-1==this.a.indexOf(g)){h=!0;for(e=0;e<D;e++)if(this.a[e]>=g){for(;b.getDate()!=this.a[e];)b.setDate(this.a[e]);h=!1;break}b.setSeconds(0);b.setHours(0);b.setMinutes(0);h&&(b.setDate(1),b.setMonth(b.getMonth()+1))}else if(g=b.getMonth()+1,da&&-1==this.d.indexOf(g)){h=!0;for(e=0;e<E;e++)if(this.d[e]>=g){b.setMonth(this.d[e]-1);h=!1;break}b.setSeconds(0);b.setMinutes(0);b.setHours(0);
b.setDate(1);h&&(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}else M=!0}return b};var $={"@second":"* * * * * *","@minute":"0 * * * * *","@halfminute":"0,30 * * * * *","@hour":"0 0 * * * *","@halfhour":"0 0,30 * * *","@daily":"0 0 0 * * *","@monthly":"0 0 0 1 * *","@yearly":"0 0 0 1 1 *","@weekly":"0 0 0 * * 1","@weekday":"0 0 0 * * 2-6"};q("Cron",v);q("Cron.prototype.start",v.prototype.f);q("Cron.prototype.stop",v.prototype.g);q("Cron.prototype.check",v.prototype.d);q("Cron.prototype.add",v.prototype.k);q("Cron.Spec",Z);q("Cron.Spec.prototype.next",Z.prototype.next);q("Cron.Spec.next",function(a,b){return b.next(a)});q("Cron.Spec.parse",function(a){return new Z(a)});q("Cron.Job",function(a,b){this.b="string"==typeof a?new Z(a):a;this.d=b;this.c=null;s(this)});